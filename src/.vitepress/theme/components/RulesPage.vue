<script setup lang="ts">
interface RuleCategory {
  id: number
  title: string
  description: string
  benefits?: string[]
  types?: {
    title: string
    description: string
    examples: string[]
  }[]
  examples?: {
    title: string
    content: string
  }[]
}

interface Step {
  number: number
  title: string
  description: string
}

interface FAQ {
  question: string
  answer: string
}

const ruleCategories: RuleCategory[] = [
  {
    id: 1,
    title: 'äº†è§£ Cursor Rules',
    description: 'Cursor Rules æ˜¯ä¸€å¥—æ™ºèƒ½ç¼–ç è§„åˆ™ç³»ç»Ÿï¼Œå®ƒèƒ½å¸®åŠ©æ‚¨ï¼š',
    benefits: [
      'æä¾›æ™ºèƒ½ä»£ç å»ºè®®å’Œè‡ªåŠ¨è¡¥å…¨',
      'ç¡®ä¿å›¢é˜Ÿä»£ç é£æ ¼ç»Ÿä¸€',
      'è‡ªåŠ¨æ‰§è¡Œæœ€ä½³å®è·µ',
      'æé«˜ä»£ç å¯ç»´æŠ¤æ€§',
    ],
  },
  {
    id: 2,
    title: 'è§„åˆ™ç±»å‹',
    description: 'Cursor Rules åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š',
    types: [
      {
        title: 'å…¨å±€è§„åˆ™',
        description: 'åœ¨ Cursor è®¾ç½®ä¸­é…ç½®ï¼Œé€‚ç”¨äºæ‰€æœ‰é¡¹ç›®',
        examples: [
          'ä»£ç é£æ ¼ç»Ÿä¸€',
          'å‘½åè§„èŒƒ',
          'æ–‡ä»¶ç»„ç»‡ç»“æ„',
        ],
      },
      {
        title: 'é¡¹ç›®è§„åˆ™',
        description: 'åœ¨é¡¹ç›®çš„ .cursorrules æ–‡ä»¶ä¸­å®šä¹‰ï¼Œä»…é€‚ç”¨äºç‰¹å®šé¡¹ç›®',
        examples: [
          'é¡¹ç›®ç‰¹å®šçš„ç¼–ç æ ‡å‡†',
          'ä¾èµ–ç®¡ç†è§„åˆ™',
          'æµ‹è¯•è¦†ç›–ç‡è¦æ±‚',
        ],
      },
    ],
  },
  {
    id: 3,
    title: 'ä½¿ç”¨ç¤ºä¾‹',
    description: 'ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„ Cursor Rules é…ç½®ç¤ºä¾‹ï¼š',
    examples: [
      {
        title: 'TypeScript é¡¹ç›®è§„åˆ™',
        content: `# TypeScript Project Rules

## ä»£ç è§„èŒƒ
- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- æ˜¾å¼å£°æ˜æ‰€æœ‰ç±»å‹
- é¿å…ä½¿ç”¨ any ç±»å‹

## ç»„ä»¶å¼€å‘
- ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶
- Props å¿…é¡»å®šä¹‰ç±»å‹
- ä½¿ç”¨ CSS Modules

## çŠ¶æ€ç®¡ç†
- ä¼˜å…ˆä½¿ç”¨ React Context
- å¤§å‹åº”ç”¨ä½¿ç”¨ Redux
- éµå¾ªä¸å¯å˜æ€§åŸåˆ™

## æ€§èƒ½ä¼˜åŒ–
- å®ç°ä»£ç åˆ†å‰²
- ä½¿ç”¨ React.memo()
- ä¼˜åŒ–é‡æ¸²æŸ“é€»è¾‘

## æµ‹è¯•è§„èŒƒ
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- ä½¿ç”¨ React Testing Library
- ç¼–å†™é›†æˆæµ‹è¯•`,
      },
    ],
  },
]

const steps: Step[] = [
  {
    number: 1,
    title: 'åˆ›å»º .cursorrules æ–‡ä»¶',
    description: 'åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º .cursorrules çš„æ–‡ä»¶ã€‚',
  },
  {
    number: 2,
    title: 'å®šä¹‰æ‚¨çš„è§„åˆ™',
    description: 'ä½¿ç”¨é€‚å½“çš„è¯­æ³•ç¼–å†™æ‚¨çš„ Cursor è§„åˆ™ã€‚',
  },
  {
    number: 3,
    title: 'å¼€å§‹ç¼–ç ',
    description: 'Cursor å°†åœ¨æ‚¨ç¼–å†™ä»£ç æ—¶è‡ªåŠ¨åº”ç”¨æ‚¨çš„è§„åˆ™ã€‚',
  },
]

const faqs: FAQ[] = [
  {
    question: 'ä»€ä¹ˆæ˜¯ Cursor Rules?',
    answer: 'Cursor Rules æ˜¯ä¸€å¥—ç”¨äºå®šåˆ¶å’Œè§„èŒƒåŒ–å¼€å‘æµç¨‹çš„è§„åˆ™ç³»ç»Ÿã€‚å®ƒå¯ä»¥å¸®åŠ©å›¢é˜Ÿä¿æŒä¸€è‡´çš„ä»£ç é£æ ¼ï¼Œæé«˜ä»£ç è´¨é‡ï¼Œå¹¶é€šè¿‡è‡ªåŠ¨åŒ–å»ºè®®æå‡å¼€å‘æ•ˆç‡ã€‚',
  },
  {
    question: 'å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨ Cursor Rules?',
    answer: 'åˆ›å»ºå’Œä½¿ç”¨ Cursor Rules éå¸¸ç®€å•ï¼šé¦–å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .cursorrules æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨ç‰¹å®šè¯­æ³•å®šä¹‰æ‚¨çš„è§„åˆ™ã€‚ä¸€æ—¦è®¾ç½®å®Œæˆï¼ŒCursor å°†è‡ªåŠ¨åº”ç”¨è¿™äº›è§„åˆ™æ¥è¾…åŠ©æ‚¨çš„å¼€å‘ã€‚',
  },
  {
    question: 'æˆ‘å¯ä»¥ä¸å›¢é˜Ÿå…±äº« Cursor Rules å—?',
    answer: 'æ˜¯çš„ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆå¦‚ Gitï¼‰ä¸å›¢é˜Ÿæˆå‘˜å…±äº« .cursorrules æ–‡ä»¶ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿å›¢é˜Ÿä¸­çš„æ¯ä¸ªæˆå‘˜éƒ½ä½¿ç”¨ç›¸åŒçš„ç¼–ç è§„åˆ™å’Œæœ€ä½³å®è·µã€‚',
  },
  {
    question: 'Cursor Rules æ˜¯å¦ç‰¹å®šäºæŸç§ç¼–ç¨‹è¯­è¨€?',
    answer: 'Cursor Rules æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®ä¸åŒè¯­è¨€çš„ç‰¹ç‚¹å®šåˆ¶è§„åˆ™ã€‚æ‚¨å¯ä»¥ä¸ºæ¯ç§è¯­è¨€è®¾ç½®ç‰¹å®šçš„è§„åˆ™ï¼Œä»¥æ»¡è¶³ä¸åŒé¡¹ç›®çš„éœ€æ±‚ã€‚',
  },
]
</script>

<template>
  <div class="rules-page">
    <div class="rules-hero">
      <div class="hero-content">
        <h1>Cursor Rules</h1>
        <p class="hero-subtitle">
          æ™ºèƒ½ç¼–ç è§„åˆ™ï¼Œæå‡å¼€å‘æ•ˆç‡
        </p>
        <p class="hero-description">
          ä½¿ç”¨ Cursor Rules æ™ºèƒ½è§„åˆ™ç³»ç»Ÿï¼Œè®©æ‚¨çš„å›¢é˜Ÿç¼–å†™æ›´ä¼˜è´¨ã€æ›´ä¸€è‡´çš„ä»£ç ã€‚
          é€šè¿‡è‡ªåŠ¨åŒ–å»ºè®®å’Œå®æ—¶åé¦ˆï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œå‡å°‘å¸¸è§é”™è¯¯ã€‚
        </p>
        <div class="hero-features">
          <div class="feature-item">
            <div class="feature-icon">
              âš¡ï¸
            </div>
            <div class="feature-text">
              <h3>æ™ºèƒ½æç¤º</h3>
              <p>å®æ—¶ä»£ç å»ºè®®å’Œè‡ªåŠ¨è¡¥å…¨</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              ğŸ”„
            </div>
            <div class="feature-text">
              <h3>è‡ªåŠ¨æ ¼å¼åŒ–</h3>
              <p>ä¿æŒä»£ç é£æ ¼ç»Ÿä¸€</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              ğŸ›¡ï¸
            </div>
            <div class="feature-text">
              <h3>ä»£ç è´¨é‡</h3>
              <p>è‡ªåŠ¨æ£€æµ‹æ½œåœ¨é—®é¢˜</p>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              ğŸ¤
            </div>
            <div class="feature-text">
              <h3>å›¢é˜Ÿåä½œ</h3>
              <p>ç»Ÿä¸€çš„å¼€å‘æ ‡å‡†</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="rules-content">
      <div class="rules-categories">
        <!-- äº†è§£ Cursor Rules -->
        <div class="intro-section">
          <div v-if="ruleCategories[0]" class="category-card">
            <h3>{{ ruleCategories[0].title }}</h3>
            <p>{{ ruleCategories[0].description }}</p>
            <template v-if="ruleCategories[0].benefits">
              <ul>
                <li v-for="benefit in ruleCategories[0].benefits" :key="benefit">
                  {{ benefit }}
                </li>
              </ul>
            </template>
          </div>
        </div>

        <!-- è§„åˆ™ç±»å‹å’Œä½¿ç”¨ç¤ºä¾‹ -->
        <div class="two-column-grid">
          <!-- è§„åˆ™ç±»å‹ -->
          <div v-if="ruleCategories[1]" class="category-card">
            <h3>{{ ruleCategories[1].title }}</h3>
            <p>{{ ruleCategories[1].description }}</p>
            <template v-if="ruleCategories[1].types">
              <div v-for="type in ruleCategories[1].types" :key="type.title" class="rule-type">
                <h4>{{ type.title }}</h4>
                <p>{{ type.description }}</p>
                <ul>
                  <li v-for="example in type.examples" :key="example">
                    {{ example }}
                  </li>
                </ul>
              </div>
            </template>
          </div>

          <!-- ä½¿ç”¨ç¤ºä¾‹ -->
          <div v-if="ruleCategories[2]" class="category-card">
            <h3>{{ ruleCategories[2].title }}</h3>
            <p>{{ ruleCategories[2].description }}</p>
            <template v-if="ruleCategories[2].examples">
              <div v-for="example in ruleCategories[2].examples" :key="example.title" class="rule-example">
                <h4>{{ example.title }}</h4>
                <pre><code>{{ example.content }}</code></pre>
              </div>
            </template>
          </div>
        </div>
      </div>

      <div class="rules-steps">
        <h2>å¼€å§‹ä½¿ç”¨</h2>
        <div class="steps-list">
          <div v-for="step in steps" :key="step.number" class="step-card">
            <div class="step-number">
              {{ step.number }}
            </div>
            <h3>{{ step.title }}</h3>
            <p>{{ step.description }}</p>
          </div>
        </div>
      </div>

      <div class="rules-faq">
        <h2>å¸¸è§é—®é¢˜</h2>
        <div class="faq-list">
          <div v-for="faq in faqs" :key="faq.question" class="faq-item">
            <h3>{{ faq.question }}</h3>
            <p>{{ faq.answer }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<style>
:root {
  --primary-color: #00dc82;
  --primary-dark: #00b368;
  --primary-light: #33e39c;
  --primary-gradient: linear-gradient(120deg, #818cf8, #7c3aed);

  --surface-1: #ffffff;
  --surface-2: #f8fafc;
  --surface-3: #f1f5f9;

  --text-1: #18181b;
  --text-2: #3f3f46;
  --text-3: #71717a;

  --border-color: #e4e4e7;

  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);

  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;

  --font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
    sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;

  --max-width: 80rem;
  --content-width: 64rem;
}

.dark {
  --surface-1: #18181b;
  --surface-2: #27272a;
  --surface-3: #3f3f46;

  --text-1: #fafafa;
  --text-2: #e4e4e7;
  --text-3: #a1a1aa;

  --border-color: #3f3f46;
}
</style>

<style scoped>
.rules-page {
  width: 100%;
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0;
  overflow: hidden;
}

.rules-hero {
  text-align: center;
  margin-bottom: 4rem;
  padding: 6rem 1rem 4rem;
  background: var(--surface-2);
  border-bottom: 1px solid var(--border-color);
  position: relative;
  overflow: visible;
}

.hero-content {
  max-width: var(--content-width);
  margin: 0 auto;
  position: relative;
  z-index: 2;
}

.rules-hero h1 {
  font-size: 4rem;
  font-weight: 800;
  background: var(--primary-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 1rem;
  letter-spacing: -0.02em;
  line-height: 1.2;
  position: relative;
}

.hero-subtitle {
  font-size: 1.75rem;
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: 1.5rem;
  position: relative;
}

.hero-description {
  font-size: 1.25rem;
  color: var(--text-2);
  max-width: 48rem;
  margin: 0 auto 3rem;
  line-height: 1.6;
  position: relative;
}

.hero-features {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 2rem;
  max-width: 64rem;
  margin: 0 auto;
}

.feature-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  text-align: left;
  padding: 1.5rem;
  background: var(--surface-1);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-color);
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
}

.feature-item:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.feature-icon {
  font-size: 1.5rem;
  line-height: 1;
  padding: 0.75rem;
  background: var(--surface-2);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-color);
}

.feature-text h3 {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--text-1);
  margin: 0 0 0.5rem;
}

.feature-text p {
  font-size: 0.875rem;
  color: var(--text-2);
  margin: 0;
  line-height: 1.5;
}

@media (max-width: 1024px) {
  .hero-features {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .rules-hero {
    padding: 5rem 1rem 3rem;
  }

  .rules-hero h1 {
    font-size: 2.5rem;
  }

  .hero-subtitle {
    font-size: 1.25rem;
  }

  .hero-description {
    font-size: 1rem;
  }

  .hero-features {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .feature-item {
    padding: 1.25rem;
  }
}

.rules-content {
  max-width: var(--content-width);
  margin: 0 auto;
}

.rules-categories {
  margin-bottom: 4rem;
}

.rules-categories h2,
.rules-steps h2,
.rules-faq h2 {
  font-size: 2rem;
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: 2rem;
  text-align: center;
}

.categories-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
}

.category-card {
  background: var(--surface-2);
  border-radius: var(--radius-lg);
  padding: 2rem;
  border: 1px solid var(--border-color);
}

.category-card h3 {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: 1rem;
}

.category-card p {
  font-size: 1rem;
  color: var(--text-2);
  margin-bottom: 1.5rem;
  line-height: 1.6;
}

.category-card h4 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: 1rem;
}

.category-card ul {
  list-style: none;
  padding: 0;
  margin: 0 0 1.5rem;
}

.category-card li {
  font-size: 1rem;
  color: var(--text-2);
  margin-bottom: 0.5rem;
  padding-left: 1.5rem;
  position: relative;
}

.category-card li::before {
  content: 'â€¢';
  color: var(--primary-color);
  position: absolute;
  left: 0.5rem;
}

.rule-type {
  margin-bottom: 2rem;
}

.rule-example {
  margin-top: 1.5rem;
}

.rule-example pre {
  background: var(--surface-1);
  padding: 1.5rem;
  border-radius: var(--radius-md);
  overflow-x: auto;
  font-family: var(--font-mono);
  font-size: 0.875rem;
  line-height: 1.6;
  color: var(--text-1);
  border: 1px solid var(--border-color);
}

.steps-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  margin-bottom: 4rem;
}

.step-card {
  background: var(--surface-2);
  border-radius: var(--radius-lg);
  padding: 2rem;
  border: 1px solid var(--border-color);
  text-align: center;
}

.step-number {
  width: 3rem;
  height: 3rem;
  background: var(--primary-gradient);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  font-weight: 600;
  margin: 0 auto 1.5rem;
}

.step-card h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: 1rem;
}

.step-card p {
  font-size: 1rem;
  color: var(--text-2);
  line-height: 1.6;
}

.faq-list {
  display: grid;
  gap: 1.5rem;
}

.faq-item {
  background: var(--surface-2);
  border-radius: var(--radius-lg);
  padding: 2rem;
  border: 1px solid var(--border-color);
}

.faq-item h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-1);
  margin-bottom: 1rem;
}

.faq-item p {
  font-size: 1rem;
  color: var(--text-2);
  line-height: 1.6;
}

@media (max-width: 768px) {
  .rules-page {
    padding: 1rem;
  }

  .rules-hero h1 {
    font-size: 2rem;
  }

  .rules-hero p {
    font-size: 1.125rem;
  }

  .rules-categories h2,
  .rules-steps h2,
  .rules-faq h2 {
    font-size: 1.75rem;
  }

  .category-card,
  .step-card,
  .faq-item {
    padding: 1.5rem;
  }
}

.intro-section {
  margin-bottom: 3rem;
  max-width: 100%;
}

.intro-section .category-card {
  max-width: 100%;
  background: var(--surface-2);
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-md);
}

.two-column-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 2rem;
}

@media (max-width: 768px) {
  .rules-page {
    padding: 1rem;
  }

  .rules-hero h1 {
    font-size: 2rem;
  }

  .rules-hero p {
    font-size: 1.125rem;
  }

  .two-column-grid {
    grid-template-columns: 1fr;
  }

  .intro-section {
    margin-bottom: 2rem;
  }

  .rules-categories h2,
  .rules-steps h2,
  .rules-faq h2 {
    font-size: 1.75rem;
  }

  .category-card,
  .step-card,
  .faq-item {
    padding: 1.5rem;
  }
}
</style>
